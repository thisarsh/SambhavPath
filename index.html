
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>SambhavPath - Career Roadmap Explorer</title>
  <style>
    /* Existing CSS preserved from original file without changes */
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
    body {
        background-color: #0a0a1a;
        color: #ffffff;
        min-height: 100vh;
        overflow-x: hidden;
    }
    .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 2rem;
        text-align: center;
    }
    .header {
        margin-bottom: 3rem;
    }
    .header h1 {
        font-size: 3rem;
        background: linear-gradient(90deg, #4facfe 0%, #00f2fe 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        margin-bottom: 1rem;
    }
    .header p {
        font-size: 1.2rem;
        max-width: 700px;
        margin: 0 auto;
        color: #aab0c6;
    }
    .search-container {
        position: relative;
        max-width: 600px;
        margin: 0 auto 4rem;
    }
    .search-bar {
        width: 100%;
        padding: 1.2rem 2rem;
        font-size: 1.2rem;
        border-radius: 50px;
        border: none;
        background-color: rgba(255, 255, 255, 0.1);
        color: white;
        box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
        backdrop-filter: blur(8px);
        transition: all 0.3s ease;
    }
    .search-bar:focus {
        outline: none;
        background-color: rgba(255, 255, 255, 0.15);
        box-shadow: 0 0 0 3px rgba(79, 172, 254, 0.5);
    }
    .search-btn {
        position: absolute;
        right: 10px;
        top: 50%;
        transform: translateY(-50%);
        padding: 0.7rem 1.5rem;
        border-radius: 50px;
        border: none;
        background: linear-gradient(90deg, #4facfe 0%, #00f2fe 100%);
        color: white;
        font-weight: bold;
        cursor: pointer;
        transition: all 0.3s ease;
    }
    .search-btn:hover {
        transform: translateY(-50%) scale(1.05);
        box-shadow: 0 4px 20px rgba(79, 172, 254, 0.3);
    }
    .related-paths {
        display: flex;
        flex-wrap: wrap;
        gap: 1rem;
        justify-content: center;
        margin: 0 auto 3rem;
    }
    .related-path-btn {
        padding: 0.7rem 1.5rem;
        border-radius: 50px;
        border: none;
        background-color: rgba(255, 255, 255, 0.1);
        color: white;
        cursor: pointer;
        transition: all 0.3s ease;
    }
    .related-path-btn:hover {
        background-color: rgba(255, 255, 255, 0.2);
        transform: translateY(-3px);
    }
    .roadmap-container {
        position: relative;
        max-width: 800px;
        margin: 0 auto;
        padding: 2rem;
        display: none;
    }
    .elevator-line {
        position: absolute;
        left: 50%;
        top: 0;
        width: 6px;
        height: 100%;
        background: linear-gradient(180deg, #4facfe 0%, #00f2fe 100%);
        transform: translateX(-50%);
        z-index: 1;
    }
    .milestone {
        position: relative;
        display: flex;
        margin-bottom: 6rem;
        z-index: 2;
        opacity: 0;
        transform: translateY(30px);
        transition: all 0.6s ease;
    }
    .milestone.visible {
        opacity: 1;
        transform: translateY(0);
    }
    .milestone:nth-child(odd) {
        flex-direction: row-reverse;
    }
    .milestone-content {
        width: 45%;
        background-color: rgba(255, 255, 255, 0.1);
        border-radius: 10px;
        padding: 1.5rem;
        backdrop-filter: blur(8px);
        box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
        transition: all 0.3s ease;
    }
    .milestone-content:hover {
        transform: scale(1.05);
        background-color: rgba(255, 255, 255, 0.15);
    }
    .milestone-pin {
        position: absolute;
        left: 50%;
        top: 1.5rem;
        width: 30px;
        height: 30px;
        border-radius: 50%;
        background: linear-gradient(90deg, #4facfe 0%, #00f2fe 100%);
        transform: translateX(-50%);
        z-index: 3;
        box-shadow: 0 0 15px rgba(79, 172, 254, 0.7);
    }
    .progress-container {
        position: sticky;
        bottom: 20px;
        background-color: rgba(10, 10, 26, 0.8);
        padding: 1rem;
        border-radius: 10px;
        backdrop-filter: blur(8px);
        z-index: 10;
        display: flex;
        align-items: center;
        gap: 1rem;
        margin-top: 2rem;
    }
    .progress-bar {
        flex: 1;
        height: 10px;
        background-color: rgba(255, 255, 255, 0.1);
        border-radius: 10px;
        overflow: hidden;
    }
    .progress-fill {
        height: 100%;
        background: linear-gradient(90deg, #4facfe 0%, #00f2fe 100%);
        border-radius: 10px;
        width: 0%;
        transition: width 0.5s ease;
    }
    .progress-text {
        font-size: 0.9rem;
        color: #aab0c6;
        min-width: 80px;
    }
    .loading {
        display: none;
        margin: 2rem auto;
        width: 50px;
        height: 50px;
        border: 5px solid rgba(255, 255, 255, 0.1);
        border-radius: 50%;
        border-top: 5px solid #4facfe;
        animation: spin 1s linear infinite;
    }
    @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
    }
    .error-message {
        display: none;
        color: #ff6b6b;
        margin: 2rem auto;
        padding: 1rem;
        background-color: rgba(255, 99, 99, 0.1);
        border-radius: 10px;
        max-width: 600px;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>SambhavPath</h1>
      <p>Discover your comprehensive career roadmap with detailed milestones and actionable steps.</p>
    </div>
    <div class="search-container">
      <input type="text" class="search-bar" placeholder="Search a career path (e.g., Software Engineer, Doctor, Data Scientist)" id="searchInput">
      <button class="search-btn" id="searchBtn">Search</button>
    </div>
    <div class="related-paths" id="relatedPaths"></div>
    <div class="loading" id="loading"></div>
    <div class="error-message" id="errorMessage"></div>
    <div class="roadmap-container" id="roadmapContainer">
      <div class="elevator-line"></div>
      <div id="milestones"></div>
      <div class="progress-container">
        <div class="progress-bar">
          <div class="progress-fill" id="progressFill"></div>
        </div>
        <div class="progress-text" id="progressText">0% Complete</div>
      </div>
    </div>
  </div>
  <script>
    const apiKey = "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";

    const searchInput = document.getElementById("searchInput");
    const milestones = document.getElementById("milestones");
    const loading = document.getElementById("loading");
    const roadmapContainer = document.getElementById("roadmapContainer");

    async function searchRoadmap() {
      const query = searchInput.value.trim();
      if (!query) return;

      loading.style.display = "block";
      milestones.innerHTML = "";

      const prompt = `I want to become or want to know about ${query}. Your response is to be filled up in a roadmap so provide me a complete roadmap and checkpoints. Include at least 20 bullet points with key steps, exams, certifications, degrees, skills, estimated timelines, tools, and alternative career options. Format each step clearly using bullet points or line breaks.`;

      try {
        const response = await fetch("https://openrouter.ai/api/v1/chat/completions", {
          method: "POST",
          headers: {
            "Authorization": "Bearer " + apiKey,
            "Content-Type": "application/json",
            "HTTP-Referer": "https://your-netlify-site.netlify.app",
            "X-Title": "SambhavPath AI Roadmap"
          },
          body: JSON.stringify({
            model: "moonshot-v1-8k",
            messages: [{ role: "user", content: prompt }]
          })
        });

        const data = await response.json();
        loading.style.display = "none";
        roadmapContainer.style.display = "block";

        if (!data || !data.choices || !data.choices[0]) {
          milestones.innerHTML = "<p>Could not generate roadmap. Try again.</p>";
          return;
        }

        const output = data.choices[0].message.content;
        const lines = output.split(" ").filter(line => line.trim() !== "");
        lines.forEach((line, index) => {
          const div = document.createElement("div");
          div.className = "milestone";
          div.innerHTML = `<div class="milestone-content"><div class="milestone-pin"></div><h3 class="milestone-title">Step ${index + 1}</h3><p class="milestone-description">${line}</p></div>`;
          milestones.appendChild(div);
          setTimeout(() => {
            div.classList.add("visible");
          }, 100 * index);
        });

        const percentage = Math.min(100, lines.length * 5);
        document.getElementById("progressFill").style.width = `${percentage}%`;
        document.getElementById("progressText").innerText = `${percentage}% Complete`;

      } catch (err) {
        console.error("Error fetching roadmap:", err);
        loading.style.display = "none";
        milestones.innerHTML = "<p>Error fetching roadmap. Please try again later.</p>";
      }
    }

    document.getElementById("searchBtn").addEventListener("click", searchRoadmap);
    searchInput.addEventListener("keypress", (e) => {
      if (e.key === "Enter") {
        searchRoadmap();
      }
    });
  </script>
</body>
</html>
